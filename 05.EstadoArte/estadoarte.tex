En este capítulo se dará a conocer una breve descripción del sistema operativo Android. Se comenzará con una introducción y se hablará de sus inicios, su arquitectura y la evolución que ha tenido con el tiempo. Además se hablará sobre los problemas más comunes al momento de comenzar a desarrollar una aplicación para Android
\section{Introducción a Android}
Android es un sistema operativo basado en Linux, diseñado principalmente para dispositivos móviles táctiles, tales como smartphones y tablets. A continuación se darán a conocer algunos detalles sobre sus inicios, arquitectura y evolución con el tiempo.
\subsection{Inicios de Android}
Android, Inc. fue fundada en Palo Alto, California en Octubre del 2003 por Andy Rubin, Rich Miner, Nick Sears and Chris White. Su objetivo era desarrollar dispositivos móviles más inteligentes, que estuvieran más enfocados en la localización del dueño y en distintas preferencias.\\
\par
Google compró a Android Inc. el 17 de Agosto del 2005. Poco se sabía sobre esta compañía para ese entonces ya que estuvo funcionando de forma secreta, sin dar a conocer muchos detalles sobre lo que desarrollaban. Muchos asumían que Google estaba planeando entrar al mercado de dispositivos móviles. De ahi en adelante los esfuerzos de Google se enfocaron en conversaciones con fabricantes y carriers, con la promesa de proveer de un sistema flexible y actualizable.\\
\par 
Sin embargo, la aparición del iPhone el 9 de Enero del 2007 tuvo un efecto disruptivo en el desarrollo de Android. Hasta el momento se contaba con un prototipo, el cuál se acercaba más a lo que podría ser un teléfono BlackBerry, sin pantalla táctil y con un teclado físico. Por lo que se comenzó inmediatamente un trabajo de reingeniería del sistema operativa y del prototipo para que fuese capaz de competir con el iPhone.\\
\par
El 6 de Noviembre del 2007 fue fundada la Open Handset Alliance, una alianza comercial liderada por Google con compañías tecnológicas como HTC, Sony y Samsung, operadores de carriers como Nextel y T-Mobile y fabricantes de chips, con el objetivo de desarrollar estándares abiertos para dispositivos móviles. El primer smartphone disponible que funcionaba sobre Android fue el HTC Dream, lanzado el 22 de Octubre del 2008.
\subsection{Arquitectura}
La arquitectura del sistema Android, también llamado stack, se puede apreciar en la figura ~\ref{fig:Fig1} y está compuesta por cuatro capas:
\begin{itemize}
\item \textbf{Kernel de Linux:} La capa más profunda es su núcleo en Linux, un sistema operativo abierto, el cuál es portable y seguro. Para cada pieza de hardware, como la cámara o el bluetooth, existe un driver dentro del kernel, que permitirá a la capa superior hacer uso de ella, por lo que funciona como una capa de abstracción. El kernel además se encarga de la gestión de los diversos recursos del dispositivo, como la energía o la memoria, elementos de comunicación, procesos, etc.
\par
\item \textbf{Bibliotecas:} La segunda capa en el stack contiene bibliotecas nativas, las cuáles están escritas en C o C++, y son compiladas para la arquitectura específica del dispositivo. En la mayoría de los casos el fabricantes es quien se encarga de instalarla en su dispositivo. Las bibliotecas incluídas en esta capa son: el motor gráfico OpenGL, el sistema de gestión de base de datos SQLite, cifrado de comunicaciones SSL, motor de manejo de tipos de letra FreeType, entre otras.
\par
El entorno de ejecución de Android también está compuesto por bibliotecas, por lo que no se considera una capa. Debido a las limitaciones de los dispositivos en los que debe funcionar, Google decidió crear la máquina virtual Dalvik, que funciona de forma similar a la máquina virtual de Java. Esta permite crear aplicaciones con un mejor rendimiento y menor consumo de energía, lo que es muy importante en dispositivos móviles. Además en el entorno de ejecución se incluyen la mayoría de las bibliotecas básicas de Java.

\begin{figure}[h!]
\centering
	    \includegraphics[width=12cm]{Imagenes/arquitectura_android}
\caption{Arquitectura de Android, compuesta por cuatro capas}
\label{fig:Fig1}
\end{figure}

\item \textbf{Marco o Framework de Aplicaciones:} La tercera capa está compuesta por todas las clases y servicios que se utilizan al momento de programar aplicaciones. Los compontentes que posee son:
\begin{itemize}
\item \textbf{Administrado de actividades (Activity Manager):} Gestiona la pila de actividades de la aplicación, como también su ciclo de vida.

\item \textbf{Administrador de ventanas (Windows Manager):} Organiza lo que se mostrará en pantalla. Crea las superficies en la pantalla, que posteriormente estarán ocupadas por las actividades.

\item \textbf{Proveedor de contenidos (Content Provider):} Encapsula los datos que pueden ser compartidos por las aplicaciones, facilitando la comunicación entre estas.

\item \textbf{Vistas (Views):} Son los elementos que nos permitirán construir las interfaces de usuario, como listas, botones, textos, hasta otros elementos más avanzados como visores de mapas.

\item \textbf{Administrador de notificaciones (Notification Manager):} Provee los servicios que notifican al usuario, mostrando alertas en la barra de estado. También permite activar el vibrado, reproducir alertas de sonido y utilizar las luces del dispositivo.

\item \textbf{Administrador de paquetes (Package Manager):} Gestiona la instalación de nuevos paquetes y además permite obtener información sobre los que ya están instalados.

\item \textbf{Administrador de telefonía (Telephony Manager):} Permite realizar llamadas, como también el envío y recepción de SMS.

\item \textbf{Administrado de recursos (Resource Manager):} A través de este administrador se podrá acceder a los elementos que no forman parte del código, como imágenes, sonidos, layouts, etc. 

\item \textbf{Administrado de ubicaciones (Location Manager):} Permite obtener la posición geográfica actual del dispositivo a través de GPS o redes.

\item \textbf{Administrado de sensores (Sensor Manager):} Permite la manipulación de distintos sensores del dispositivo, como el acelerómetro, giroscopio, brújula, sensor de proximidad, etc.

\item \textbf{Cámara:} Permite el uso de la cámara del dispositivo para la obtención de fotografías o vídeos.

\item \textbf{Multimedia:} Permite la visualización y reproducción de imágenes, vídeos y audio.

\end{itemize}

\item \textbf{Aplicaciones:} En esta capa se encuentran todas las aplicaciones del dispositivo, tanto las preinstaladas, como aquellas instaladas por el usuario. También está la aplicación principal del sistema, el Inicio o launcher, desde donde se inician todas las aplicaciones.

\end{itemize}


\subsection{¿Cómo las aplicaciones son compiladas?}
Al momento de desarrollar una aplicación de Android, generalmente se crea un proyecto usando un IDE (\textit{Integrated Development Environment}) como Eclipse o Android Studio. El proyecto contendrá código fuente en Java y recursos. Cuando se compila el proyecto lo que ocurre es que se generan los Bytecode Java (archivos .class) en base a nuestro código fuente Java (archivos .java). Luego se compilan estos archivos .class a archivos ejecutables Dalvik (archivos .dex), los cuales pueden ser ejectuados por la máquina virtual Dalvik que está disponible en todos los dispositivos Android.\\
\par
Al compilar un proyecto se colocan los archivos .dex y el resto de los archivos del proyecto en un archivo llamadado APK (\textit{Android Package}). Este contiene todos los archivos necesarios para ejecutar la aplicación, incluyendo los archivos .dex, recursos compilados, recursos sin compilar, y una versión binaria del Android manifest.\\
\par
El \textit{Android manifest} es un archivo que especifica información esencial que el sistema debe tener antes de ejecutar la aplicación. Toda aplicación debe tener este archivo de forma no binaria en su proyecto.\\
\par
Por razones de seguridad todas las aplicaciones de Android deben ser firmadas digitalmente con un certificado.\\
\par
Finalmente el \textit{Android debug bridge (ADB)} permiten que el IDE se comunique con un dispositivo físico de Android o un emulador.

\subsection{Problemas al desarrollar en Android}
Lorem ipsum ad his scripta blandit partiendo, eum fastidii accumsan euripidis in, eum liber hendrerit an. Qui ut wisi vocibus suscipiantur, quo dicit ridens inciderint id. Quo mundi lobortis reformidans eu, legimus senserit definiebas an eos. Eu sit tincidunt incorrupte definitionem, vis mutat affert percipit cu, eirmod consectetuer signiferumque eu per. In usu latine equidem dolores. Quo no falli viris intellegam, ut fugit veritus placerat per.


\subsubsection{Fragmentación a nivel de software}
Aquí se habla de que existen muchos sistemas operativos de Android activos hoy en día.
Lorem ipsum ad his scripta blandit partiendo, eum fastidii accumsan euripidis in, eum liber hendrerit an. Qui ut wisi vocibus suscipiantur, quo dicit ridens inciderint id. Quo mundi lobortis reformidans eu, legimus senserit definiebas an eos. Eu sit tincidunt incorrupte definitionem, vis mutat affert percipit cu, eirmod consectetuer signiferumque eu per. In usu latine equidem dolores. Quo no falli viris intellegam, ut fugit veritus placerat per.

\subsubsection{Fragmentación a nivel de hardware}
Aquí existe fragmentación en muchos sentidos, por un lado tenemos los tamaños de pantalla distintos, las resoluciones de pantalla distintas. Por otro lado hay que considerar que cada dispositivo tiene una cantidad de espacio y memoria distintos, como también que algunos pueden tener un teclado físico, puede que no tengan cámara, etc. Por último, muchas veces los fabricantes como Samsung, hacen cambios en el sistema operativo, cambiando cosas nativas, lo cuál produce diferentes experiencias en cada dispositivo, y muchas veces genera errores que no son culpa del desarrollador.

Lorem ipsum ad his scripta blandit partiendo, eum fastidii accumsan euripidis in, eum liber hendrerit an. Qui ut wisi vocibus suscipiantur, quo dicit ridens inciderint id. Quo mundi lobortis reformidans eu, legimus senserit definiebas an eos. Eu sit tincidunt incorrupte definitionem, vis mutat affert percipit cu, eirmod consectetuer signiferumque eu per. In usu latine equidem dolores. Quo no falli viris intellegam, ut fugit veritus placerat per.

\subsubsection{Otros problemas}
Lorem ipsum ad his scripta blandit partiendo, eum fastidii accumsan euripidis in, eum liber hendrerit an. Qui ut wisi vocibus suscipiantur, quo dicit ridens inciderint id. Quo mundi lobortis reformidans eu, legimus senserit definiebas an eos. Eu sit tincidunt incorrupte definitionem, vis mutat affert percipit cu, eirmod consectetuer signiferumque eu per. In usu latine equidem dolores. Quo no falli viris intellegam, ut fugit veritus placerat per.


   

